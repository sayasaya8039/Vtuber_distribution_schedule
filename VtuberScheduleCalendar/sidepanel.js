import{r as m,u as V,j as e,s as G,g as I,a as B,c as K}from"./assets/store.js";function _(a){const s=a.trim();if(s.startsWith("UC")&&s.length>=24){const d=s.split(/[^a-zA-Z0-9_-]/)[0];return console.log("[Search] Detected channel ID:",d),{type:"id",value:d}}const l=s.match(/youtube\.com\/channel\/(UC[a-zA-Z0-9_-]+)/);if(l)return console.log("[Search] Extracted channel ID from URL:",l[1]),{type:"id",value:l[1]};const t=s.match(/youtube\.com\/@([a-zA-Z0-9_-]+)/);return t?(console.log("[Search] Extracted handle from URL:",t[1]),{type:"handle",value:t[1]}):s.startsWith("@")?(console.log("[Search] Detected handle:",s.slice(1)),{type:"handle",value:s.slice(1)}):(console.log("[Search] Name search:",s),{type:"search",value:s})}function Y(){const[a,s]=m.useState(""),[l,t]=m.useState([]),[d,i]=m.useState(!1),[p,u]=m.useState(""),{holodexApiKey:x,addVTuber:f,vtubers:T}=V(),k=async c=>{var R,$,U,E;const h=await fetch(`https://holodex.net/api/v2/channels/${c}`,{headers:{"X-APIKEY":x}});if(h.ok){const v=await h.json();return{id:v.id,name:v.english_name||v.name,channelId:v.id,org:(R=v.org)!=null&&R.toLowerCase().includes("hololive")?"hololive":($=v.org)!=null&&$.toLowerCase().includes("nijisanji")?"nijisanji":"indie",color:(U=v.org)!=null&&U.toLowerCase().includes("hololive")?"#00bfff":(E=v.org)!=null&&E.toLowerCase().includes("nijisanji")?"#ff6b6b":"#a855f7",avatarUrl:v.photo}}return null},y=async()=>{if(!a.trim()||!x)return;const c=_(a);i(!0),u("");try{if(c.type==="id"){const h=await k(c.value);h?t([h]):(t([]),u("Holodexã«ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ãƒãƒ£ãƒ³ãƒãƒ«ã§ã™"))}else if(c.type==="handle"){const h=await G(x,c.value);h.length>0?t(h):(t([]),u(`"@${c.value}" ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚VTuberåï¼ˆæ—¥æœ¬èªåãªã©ï¼‰ã§æ¤œç´¢ã—ã¦ã¿ã¦ãã ã•ã„`))}else{const h=await G(x,c.value);h.length>0?t(h):(t([]),u(`"${c.value}" ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ`))}}catch(h){console.error("Search failed:",h),t([]),u("æ¤œç´¢ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ")}finally{i(!1)}},b=async c=>{await f(c),t(l.filter(h=>h.channelId!==c.channelId))},o=c=>T.some(h=>h.channelId===c);return e.jsxs("div",{className:"vtuber-search",children:[e.jsxs("div",{className:"search-input",children:[e.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),onKeyDown:c=>c.key==="Enter"&&y(),placeholder:"VTuberå or YouTube URLè²¼ã£ã¦ã­!",disabled:!x}),e.jsx("button",{onClick:y,disabled:d||!x,children:d?"æ¤œç´¢ä¸­...":"è¿½åŠ ã™ã‚‹"})]}),!x&&e.jsx("p",{className:"warning",children:"è¨­å®šã‹ã‚‰Holodex APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ã­"}),p&&e.jsx("p",{className:"warning",children:p}),e.jsx("p",{className:"help-text-small",children:"VTuberåã§æ¤œç´¢ã€ã¾ãŸã¯YouTube URLã‚„ãƒãƒ£ãƒ³ãƒãƒ«ID(UCã§å§‹ã¾ã‚‹)ã‚’ç›´æ¥å…¥åŠ›"}),l.length>0&&e.jsx("div",{className:"search-results",children:l.map(c=>e.jsxs("div",{className:"search-result-item",children:[e.jsx("img",{src:c.avatarUrl||"/icons/icon48.png",alt:c.name,className:"avatar"}),e.jsxs("div",{className:"info",children:[e.jsx("span",{className:"name",children:c.name}),e.jsx("span",{className:"org",style:{color:c.color},children:c.org||"indie"})]}),e.jsx("button",{onClick:()=>b(c),disabled:o(c.channelId),children:o(c.channelId)?"è¿½åŠ æ¸ˆã¿":"è¿½åŠ "})]},c.channelId))})]})}function Z(){const{vtubers:a,removeVTuber:s,selectVTuber:l,selectedVTuberId:t}=V();if(a.length===0)return e.jsxs("div",{className:"vtuber-list empty",children:[e.jsx("p",{children:"ğŸ­ ã¾ã VTuberãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“"}),e.jsx("p",{children:"ä¸Šã®æ¤œç´¢ã‹ã‚‰æ¨ã—ã‚’è¿½åŠ ã—ã‚ˆã†ï¼"})]});const d=i=>{l(t===i?null:i)};return e.jsxs("div",{className:"vtuber-list",children:[e.jsxs("h3",{children:["ç™»éŒ²æ¸ˆã¿VTuber (",a.length,")"]}),e.jsx("p",{className:"help-text-small",children:"ğŸ’¡ ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ãã®äººã ã‘è¡¨ç¤º"}),a.map(i=>e.jsxs("div",{className:`vtuber-item ${t===i.channelId?"selected":""}`,onDoubleClick:()=>d(i.channelId),style:{cursor:"pointer"},children:[e.jsx("img",{src:i.avatarUrl||"/icons/icon48.png",alt:i.name,className:"avatar"}),e.jsxs("div",{className:"info",children:[e.jsx("span",{className:"name",children:i.name}),e.jsx("span",{className:"org-badge",style:{backgroundColor:i.color},children:i.org||"indie"})]}),e.jsx("button",{className:"remove-btn",onClick:p=>{p.stopPropagation(),s(i.channelId)},title:"å‰Šé™¤",children:"âœ•"})]},i.channelId))]})}const J="https://www.googleapis.com/calendar/v3";async function L(a=!0){return new Promise((s,l)=>{chrome.identity.getAuthToken({interactive:a},t=>{chrome.runtime.lastError?l(new Error(chrome.runtime.lastError.message)):t?s(t):l(new Error("Failed to get auth token"))})})}async function W(){const a=await L(!1).catch(()=>null);a&&await new Promise(s=>{chrome.identity.removeCachedAuthToken({token:a},s)})}async function q(a,s="primary"){var d;const l=await L(),t=await fetch(`${J}/calendars/${s}/events`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok){const i=await t.json();throw new Error(((d=i.error)==null?void 0:d.message)||"Failed to create event")}return t.json()}function Q(a,s,l=30){const t=I(a),d=B(a),i=`https://www.youtube.com/watch?v=${a.id}`;return{summary:`ğŸ­ ${s.name} é…ä¿¡: ${a.title}`,description:`é…ä¿¡URL: ${i}

ãƒãƒ£ãƒ³ãƒãƒ«: ${a.channel.name}`,start:{dateTime:t.toISOString(),timeZone:"Asia/Tokyo"},end:{dateTime:d.toISOString(),timeZone:"Asia/Tokyo"},colorId:X(s.org),reminders:{useDefault:!1,overrides:[{method:"popup",minutes:l}]}}}function X(a){switch(a){case"hololive":return"9";case"nijisanji":return"11";case"indie":return"3";default:return"8"}}function ee(a,s){const l=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//VTuber Schedule Calendar//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH"];for(const t of a){const d=s.find(x=>x.channelId===t.channel.id),i=I(t),p=new Date(i.getTime()+7200*1e3),u=x=>x.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"");l.push("BEGIN:VEVENT"),l.push(`UID:${t.id}@vtuber-schedule`),l.push(`DTSTART:${u(i)}`),l.push(`DTEND:${u(p)}`),l.push(`SUMMARY:${(d==null?void 0:d.name)||t.channel.name} - ${t.title}`),l.push(`DESCRIPTION:https://www.youtube.com/watch?v=${t.id}`),l.push(`URL:https://www.youtube.com/watch?v=${t.id}`),l.push("END:VEVENT")}return l.push("END:VCALENDAR"),l.join(`\r
`)}function ne(a){if(!a)return null;const s=a.toLowerCase();return s.includes("hololive")?{label:"ãƒ›ãƒ­ãƒ©ã‚¤ãƒ–",className:"org-hololive"}:s.includes("nijisanji")?{label:"ã«ã˜ã•ã‚“ã˜",className:"org-nijisanji"}:{label:a,className:"org-other"}}function se(){const{schedules:a,vtubers:s,loading:l,selectedVTuberId:t,selectVTuber:d,addVTuber:i,settings:p}=V(),[u,x]=m.useState("all"),[f,T]=m.useState("all"),[k,y]=m.useState(!1),[b,o]=m.useState(new Set),[c,h]=m.useState(null);m.useEffect(()=>{R(),$()},[]);const R=async()=>{try{await L(!1),y(!0)}catch{y(!1)}},$=async()=>{const n=await chrome.storage.sync.get(["syncedEventIds"]);o(new Set(n.syncedEventIds||[]))},U=async n=>{if(!b.has(n.id)){h(n.id);try{let r=s.find(N=>N.channelId===n.channel.id);if(!r){const N=(n.channel.org||"").toLowerCase();let w="other";N.includes("hololive")?w="hololive":N.includes("nijisanji")&&(w="nijisanji"),r={id:n.channel.id,name:n.channel.name,channelId:n.channel.id,org:w,color:"#888"}}const j=Q(n,r,p.reminderMinutes);await q(j);const g=new Set(b);g.add(n.id),o(g),await chrome.storage.sync.set({syncedEventIds:Array.from(g)}),alert("ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ ã—ã¾ã—ãŸï¼")}catch(r){alert("è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ: "+r.message)}finally{h(null)}}},E=t?s.find(n=>n.channelId===t):null,A=[...a.filter(n=>{if(t&&n.channel.id!==t)return!1;const r=I(n),j=new Date,g=new Date(j.getFullYear(),j.getMonth(),j.getDate()),N=new Date(g.getTime()+1440*60*1e3),w=new Date(g.getTime()+10080*60*1e3);let O=!0;if(u==="today")O=r>=g&&r<N;else if(u==="tomorrow"){const D=new Date(N.getTime()+864e5);O=r>=N&&r<D}else u==="week"&&(O=r>=g&&r<w);let C=!0;if(!t&&f!=="all"){const D=s.find(S=>S.channelId===n.channel.id);if((D==null?void 0:D.org)===f)C=!0;else{const S=(n.channel.org||"").toLowerCase();f==="hololive"&&S.includes("hololive")||f==="nijisanji"&&S.includes("nijisanji")||f==="indie"&&!S.includes("hololive")&&!S.includes("nijisanji")&&S!==""?C=!0:C=!1}}return O&&C})].sort((n,r)=>I(n).getTime()-I(r).getTime()),P=()=>{const n=ee(A,s),r=new Blob([n],{type:"text/calendar;charset=utf-8"}),j=URL.createObjectURL(r),g=document.createElement("a");g.href=j,g.download=`vtuber-schedule-${new Date().toISOString().split("T")[0]}.ics`,g.click(),URL.revokeObjectURL(j)},M=n=>n.toLocaleString("ja-JP",{month:"numeric",day:"numeric",weekday:"short",hour:"2-digit",minute:"2-digit"}),H=n=>{const r=s.find(j=>j.channelId===n);return(r==null?void 0:r.color)||"#666"},F=n=>s.some(r=>r.channelId===n),z=async n=>{const r=(n.channel.org||"").toLowerCase();let j="other";r.includes("hololive")?j="hololive":r.includes("nijisanji")&&(j="nijisanji");const g=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9","#a29bfe","#fd79a8"],N=g[Math.floor(Math.random()*g.length)],w={id:n.channel.id,name:n.channel.name,channelId:n.channel.id,org:j,color:N,avatarUrl:n.channel.photo};await i(w)};return l?e.jsx("div",{className:"schedule-list loading",children:"èª­ã¿è¾¼ã¿ä¸­..."}):a.length===0?e.jsxs("div",{className:"schedule-list empty",children:[e.jsx("p",{children:"é…ä¿¡äºˆå®šãŒã‚ã‚Šã¾ã›ã‚“"}),s.length===0&&e.jsx("p",{children:"VTuberã‚’è¿½åŠ ã—ã¦ãã ã•ã„"})]}):e.jsxs("div",{className:"schedule-list",children:[e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-row",children:[e.jsxs("select",{value:u,onChange:n=>x(n.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"å…¨æœŸé–“"}),e.jsx("option",{value:"today",children:"ä»Šæ—¥"}),e.jsx("option",{value:"tomorrow",children:"æ˜æ—¥"}),e.jsx("option",{value:"week",children:"ä»Šé€±"})]}),e.jsxs("select",{value:f,onChange:n=>T(n.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"å…¨ã‚°ãƒ«ãƒ¼ãƒ—"}),e.jsx("option",{value:"hololive",children:"hololive"}),e.jsx("option",{value:"nijisanji",children:"ã«ã˜ã•ã‚“ã˜"}),e.jsx("option",{value:"indie",children:"ã‚¤ãƒ³ãƒ‡ã‚£ãƒ¼"})]})]})}),E&&e.jsxs("div",{className:"selected-vtuber-banner",children:[e.jsxs("span",{children:["ğŸ¯ ",E.name," ã®é…ä¿¡"]}),e.jsx("button",{onClick:()=>d(null),className:"clear-filter-btn",children:"âœ• è§£é™¤"})]}),e.jsxs("div",{className:"schedule-header",children:[e.jsxs("h3",{children:["é…ä¿¡äºˆå®š (",A.length,"ä»¶)"]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"export-btn",onClick:P,title:"ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆ",disabled:A.length===0,children:"ğŸ“… .ics"})})]}),A.length===0?e.jsx("div",{className:"no-results",children:e.jsx("p",{children:"è©²å½“ã™ã‚‹é…ä¿¡ãŒã‚ã‚Šã¾ã›ã‚“"})}):A.map(n=>{const r=ne(n.channel.org),j=F(n.channel.id);return e.jsxs("div",{className:"schedule-item",style:{borderLeftColor:H(n.channel.id)},children:[e.jsx("div",{className:"schedule-time",children:n.status==="live"?e.jsx("span",{className:"live-badge",children:"LIVE"}):M(I(n))}),e.jsxs("div",{className:"schedule-info",children:[e.jsxs("div",{className:"channel-row",children:[e.jsx("span",{className:"channel-name",children:n.channel.name}),r&&e.jsx("span",{className:`org-badge ${r.className}`,children:r.label}),j&&e.jsx("span",{className:"registered-badge",title:"ç™»éŒ²æ¸ˆã¿",children:"âœ“"})]}),e.jsx("span",{className:"title",children:n.title})]}),e.jsxs("div",{className:"schedule-actions",children:[!j&&e.jsx("button",{className:"register-btn",onClick:()=>z(n),title:"ã“ã®VTuberã‚’ç™»éŒ²",children:"+"}),k&&e.jsx("button",{className:`calendar-btn ${b.has(n.id)?"synced":""}`,onClick:()=>U(n),disabled:c===n.id||b.has(n.id),title:b.has(n.id)?"ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¿½åŠ æ¸ˆã¿":"ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ ",children:c===n.id?"...":b.has(n.id)?"ğŸ“…âœ“":"ğŸ“…"}),e.jsx("a",{href:`https://www.youtube.com/watch?v=${n.id}`,target:"_blank",rel:"noopener noreferrer",className:"youtube-link",title:"YouTubeã§é–‹ã",children:"â–¶"})]})]},n.id)})]})}function te(){const{holodexApiKey:a,settings:s,setApiKey:l,updateSettings:t}=V(),[d,i]=m.useState(a),[p,u]=m.useState(!1),[x,f]=m.useState(!1);m.useEffect(()=>{T()},[]);const T=async()=>{try{await L(!1),u(!0)}catch{u(!1)}},k=async()=>{f(!0);try{await L(!0),u(!0),alert("Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«æ¥ç¶šã—ã¾ã—ãŸï¼")}catch(o){alert("æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ: "+o.message)}finally{f(!1)}},y=async()=>{try{await W(),u(!1),alert("æ¥ç¶šã‚’è§£é™¤ã—ã¾ã—ãŸ")}catch(o){console.error("Disconnect error:",o)}},b=async()=>{await l(d),alert("APIã‚­ãƒ¼ã‚’ä¿å­˜ã—ã¾ã—ãŸ")};return e.jsxs("div",{className:"settings",children:[e.jsx("h3",{children:"âš™ï¸ è¨­å®š"}),e.jsxs("section",{className:"settings-section",children:[e.jsx("h4",{children:"Holodex API"}),e.jsxs("p",{className:"help-text",children:[e.jsx("a",{href:"https://holodex.net/login",target:"_blank",rel:"noopener noreferrer",children:"Holodex"}),"ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆå¾Œã€APIã‚­ãƒ¼ã‚’å–å¾—ã—ã¦ãã ã•ã„"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"password",value:d,onChange:o=>i(o.target.value),placeholder:"Holodex APIã‚­ãƒ¼"}),e.jsx("button",{onClick:b,children:"ä¿å­˜"})]})]}),e.jsxs("section",{className:"settings-section",children:[e.jsx("h4",{children:"Google ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº"}),p?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"connected",children:[e.jsx("span",{children:"âœ… Googleã«æ¥ç¶šæ¸ˆã¿"}),e.jsx("button",{className:"disconnect-btn",onClick:y,children:"æ¥ç¶šè§£é™¤"})]}),e.jsxs("label",{className:"checkbox-label",style:{marginTop:"12px"},children:[e.jsx("input",{type:"checkbox",checked:s.autoAddToCalendar??!1,onChange:o=>t({autoAddToCalendar:o.target.checked})}),"æ–°ã—ã„é…ä¿¡ã‚’è‡ªå‹•ã§ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ "]}),e.jsx("p",{className:"help-text",style:{fontSize:"11px"},children:"ã‚²ãƒªãƒ©é…ä¿¡ãªã©ãŒæ¤œå‡ºã•ã‚Œã‚‹ã¨è‡ªå‹•ã§ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ ã•ã‚Œã¾ã™"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"help-text",children:"Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æ¥ç¶šã™ã‚‹ã¨ã€é…ä¿¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ ã§ãã¾ã™ã€‚"}),e.jsx("button",{className:"connect-btn",onClick:k,disabled:x,children:x?"æ¥ç¶šä¸­...":"ğŸ”— Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«æ¥ç¶š"})]}),e.jsx("p",{className:"help-text",style:{fontSize:"11px",color:"#999",marginTop:"12px"},children:"â€» .icsãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚‚å¯èƒ½ï¼ˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç”»é¢ã®ã€Œ.icsã€ãƒœã‚¿ãƒ³ï¼‰"})]}),e.jsxs("section",{className:"settings-section",children:[e.jsx("h4",{children:"ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹"}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:s.useHololiveScraper??!0,onChange:o=>t({useHololiveScraper:o.target.checked})}),"ãƒ›ãƒ­ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰å–å¾—ï¼ˆå…¬å¼ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰"]}),s.useHololiveScraper&&e.jsxs("label",{className:"checkbox-label",style:{marginLeft:"20px"},children:[e.jsx("input",{type:"checkbox",checked:s.showAllHololive??!1,onChange:o=>t({showAllHololive:o.target.checked})}),"å…¨ãƒ›ãƒ­ãƒ©ã‚¤ãƒ–é…ä¿¡ã‚’è¡¨ç¤º"]}),e.jsxs("label",{className:"checkbox-label",style:{marginTop:"12px"},children:[e.jsx("input",{type:"checkbox",checked:s.useNijisanjiScraper??!0,onChange:o=>t({useNijisanjiScraper:o.target.checked})}),"ã«ã˜ã•ã‚“ã˜å…¬å¼ã‹ã‚‰å–å¾—"]}),s.useNijisanjiScraper&&e.jsxs("label",{className:"checkbox-label",style:{marginLeft:"20px"},children:[e.jsx("input",{type:"checkbox",checked:s.showAllNijisanji??!1,onChange:o=>t({showAllNijisanji:o.target.checked})}),"å…¨ã«ã˜ã•ã‚“ã˜é…ä¿¡ã‚’è¡¨ç¤º"]}),e.jsx("p",{className:"help-text",style:{fontSize:"11px"},children:s.showAllHololive||s.showAllNijisanji?"å…¨ãƒ¡ãƒ³ãƒãƒ¼ã®é…ä¿¡ã‚’è¡¨ç¤ºã—ã¾ã™":"ç™»éŒ²ã—ãŸVTuberã®é…ä¿¡ã®ã¿è¡¨ç¤ºã—ã¾ã™"})]}),e.jsxs("section",{className:"settings-section",children:[e.jsx("h4",{children:"é€šçŸ¥è¨­å®š"}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:s.notifyOnNewStream,onChange:o=>t({notifyOnNewStream:o.target.checked})}),"æ–°ã—ã„é…ä¿¡äºˆå®šã‚’é€šçŸ¥"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{children:"æ›´æ–°é–“éš”ï¼ˆåˆ†ï¼‰"}),e.jsx("input",{type:"number",min:"15",max:"360",value:s.syncIntervalMinutes,onChange:o=>t({syncIntervalMinutes:Number(o.target.value)})})]})]})]})}function ae(){const[a,s]=m.useState("schedule"),{initialize:l,refreshSchedules:t,error:d,selectedVTuberId:i}=V();m.useEffect(()=>{l()},[l]),m.useEffect(()=>{i&&s("schedule")},[i]);const p=()=>{t()};return e.jsxs("div",{className:"side-panel",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{children:"ğŸ­ VTuber Schedule"}),e.jsx("button",{onClick:p,className:"refresh-btn",title:"æ›´æ–°",children:"ğŸ”„"})]}),d&&e.jsxs("div",{className:"error-banner",children:["âš ï¸ ",d]}),e.jsxs("nav",{className:"tab-nav",children:[e.jsx("button",{className:a==="schedule"?"active":"",onClick:()=>s("schedule"),children:"ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"}),e.jsx("button",{className:a==="vtubers"?"active":"",onClick:()=>s("vtubers"),children:"ğŸ­ VTuber"}),e.jsx("button",{className:a==="settings"?"active":"",onClick:()=>s("settings"),children:"âš™ï¸ è¨­å®š"})]}),e.jsxs("main",{className:"main-content",children:[a==="schedule"&&e.jsx(se,{}),a==="vtubers"&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsx(Z,{})]}),a==="settings"&&e.jsx(te,{})]}),e.jsx("footer",{className:"footer",children:e.jsx("span",{children:"VTuber Schedule Calendar v1.2.0"})})]})}K.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(ae,{})}));
