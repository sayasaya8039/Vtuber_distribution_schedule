# VTuber配信スケジュールをGoogleカレンダーに自動登録するChrome拡張機能を作った

## はじめに

推しのVTuberの配信を見逃したことはありませんか？

ホロライブ、にじさんじ、その他のVTuberの配信スケジュールを一元管理して、Googleカレンダーに自動登録できるChrome拡張機能「VTuber Schedule Calendar」を開発しました。

ゲリラ配信も自動検知して通知してくれるので、もう推しの配信を見逃すことはありません！

## 機能紹介

### 1. 複数ソースからのスケジュール統合

この拡張機能は3つのソースから配信スケジュールを取得します：

- **ホロライブ公式（ホロジュール）**: schedule.hololive.tv から自動スクレイピング
- **にじさんじ公式**: nijisanji.jp/streams から自動取得
- **Holodex API**: その他のVTuberはHolodex APIで取得

これにより、事務所の垣根を超えて推しのスケジュールを一覧で確認できます。

### 2. Google Calendar連携

配信スケジュールをワンクリックでGoogleカレンダーに追加できます。

- OAuth2認証で安全に接続
- 配信開始30分前にリマインダー通知
- .icsファイルエクスポートにも対応（Outlook/Apple Calendar）

### 3. ゲリラ配信の自動検知

設定した間隔（デフォルト1時間）で新しい配信をチェックし、ゲリラ配信が追加されたら：

- プッシュ通知でお知らせ
- 自動でGoogleカレンダーに登録（オプション）

これで突然の配信も見逃しません！

### 4. 組織別カラー表示

配信一覧では組織ごとに色分け表示：

- **ホロライブ**: 水色バッジ
- **にじさんじ**: 赤色バッジ
- **インディー**: グレーバッジ

一目で誰の配信かわかります。

### 5. スケジュールからVTuber登録

配信一覧で気になるVTuberを見つけたら、「+」ボタンをクリックするだけで登録完了。新しい推しを簡単に追加できます。

## インストール方法

### ステップ1: ダウンロード

[GitHub](https://github.com/sayasaya8039/Vtuber_distribution_schedule)からzipファイルをダウンロードして解凍します。

### ステップ2: Chromeにインストール

1. Chromeで `chrome://extensions` を開く
2. 右上の「デベロッパーモード」をON
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. 解凍した `VtuberScheduleCalendar` フォルダを選択

### ステップ3: Google Calendar連携（任意）

1. 拡張機能の設定画面を開く
2. 「Googleカレンダーに接続」ボタンをクリック
3. Googleアカウントでログインして許可

## 使い方

### 基本操作

1. Chromeの右上にある拡張機能アイコンをクリック
2. サイドパネルが開いてスケジュール一覧が表示
3. 📅ボタンでカレンダーに追加
4. ▶ボタンでYouTubeを開く

### フィルター機能

- **日付**: 今日 / 明日 / 今週 / 全期間
- **組織**: 全グループ / hololive / にじさんじ / インディー

見たい配信だけを絞り込めます。

### VTuberの登録

登録方法は2通り：

1. スケジュール一覧で「+」ボタンをクリック
2. 「VTuber」タブでHolodex検索して追加

## 設定項目

| 設定 | 説明 | デフォルト |
|------|------|------------|
| ホロジュールから取得 | ホロライブ公式スケジュールを取得 | ON |
| 全ホロライブ配信を表示 | 登録関係なく全員表示 | OFF |
| にじさんじ公式から取得 | にじさんじ公式スケジュールを取得 | ON |
| 全にじさんじ配信を表示 | 登録関係なく全員表示 | OFF |
| 新しい配信を自動でカレンダーに追加 | ゲリラ配信を自動登録 | OFF |
| 更新間隔 | バックグラウンドチェック間隔 | 60分 |

## 技術的な話

### 使用技術

- **フロントエンド**: React 19 + TypeScript
- **ビルドツール**: Vite 6
- **状態管理**: Zustand
- **Chrome拡張**: Manifest V3
- **外部API**: Holodex API, Google Calendar API

### スクレイピングの工夫

ホロライブとにじさんじは公式サイトから直接スケジュールを取得しています。

**ホロジュール**では、HTMLからYouTube動画IDと配信者名を正規表現で抽出。`event_category`というGoogleアナリティクス用のデータを活用しています。

**にじさんじ公式**では、Next.jsの`__NEXT_DATA__`スクリプトタグからJSONデータを抽出。SSRで埋め込まれたデータを利用することで、追加のAPI呼び出しなしにスケジュールを取得できます。

### 名前マッチングの課題

ホロライブメンバーは日本語名と英語名の両方を使うことがあり、マッチングが難しい問題がありました。

例えば「ときのそら」と「Tokino Sora」は同一人物ですが、単純な文字列比較では一致しません。

これを解決するため、80人以上のホロライブメンバーの日本語名⇔英語エイリアスのマッピングテーブルを作成しました。

```typescript
const HOLOLIVE_NAME_MAP = {
  'ときのそら': ['sora', 'tokino'],
  '星街すいせい': ['suisei', 'hoshimachi'],
  // ... 80人以上
};
```

## おわりに

この拡張機能を使えば、複数の事務所にまたがる推しVTuberの配信を一元管理できます。

ゲリラ配信の自動検知機能のおかげで、突然の配信も見逃さなくなりました。

ぜひ使ってみてください！

**GitHub**: https://github.com/sayasaya8039/Vtuber_distribution_schedule

質問やバグ報告は[GitHubのIssues](https://github.com/sayasaya8039/Vtuber_distribution_schedule/issues)までお願いします。

---

*この記事がお役に立ったら、スキ・フォローをお願いします！*
